

추가된 기능 정리하기 


병원 회원 관리자 로그인 -> 내 병원 관리 

- 병원 승인 여부 알려주는 문구 삽입 
- 병원 승인 여부, 상태에 따라서 달라지는 버튼 기능 

case1. 승인된 병원 
-> 썸네일 수정 버튼 -> 클릭 -> 썸네일 수정 창 등장 


case2. 미승인&& 미신청 병원 
-> 병원 등록 신청 버튼 -> 클릭 -> 썸네일 등록 창 등장  


case3. 미승인 but 신청 o  
-> 신청내용 확인 버튼 -> 클릭 -> 썸네일 수정 창 등장 , 




1. hosMypageInfo -> HosMypageInfoController -> myHosInfo.do
DAO,VO에 selecthosInfo 메서드에다가 hos_status 추가 

--------------------------------------------------------------------------------------

2. hosApp 패키지 추가 (구성 : HosAppController,HosAppDAO,HosAppVO)  [관리자,병원회원 공용]

HosAppController 

-/app/*
-/appForm.do : 병원 회원이 병원등록 신청서 페이지 진입 -> /hos_MypageInfo/hosApplication.jsp 연결
-/ 미정 : 병원 회원 등록신청서 제출 (다중 이미지 첨부 기능 때문에  일부 기능 비워둠) 
-/viewMyApp.do : 병원 회원의 신청서 상세 조회하기 -> /hos_MypageInfo/hosApplication.jsp 연결
-/checkApp.do : 관리자의 병원등록 신청서 개별 상세 보기 -> /administrator/adminApplication.jsp 연결
-/rejectionRM.do : 관리자의 병원등록 신청 거부 기능 
- /미정 : 관리자의 병원등록 신청 승인 기능 -> (다중 이미지 첨부 기능 때문에 기능 비워둠) 
- uploadHosImg 메서드 
hosApplication.jsp에서 multipart로 보내진 데이터를 텍스트와 이미지로 구분해 Map 에 저장한다. 




-------------------------------------------------------------------------------------

3. Admin 패키지 구성 추가 

AdminController 
-/admin/*
-/hosRM.do : 관리자의 신청등록 페이지 목록 조회 + 페이징 뷰 -> /administrator/hopitalRegi.jsp 연결 
-/approvalHosM.do : 신청등록 페이지 목록에서 등록승인 하기 (여러개 선택 가능) -> 그런데 생각해보니깐 이미지 처리를 안 함... 



4. hosrmtbl(컬럼 : rm_status)과 hosjointbl ( 컬럼 : hos_status) 



4-1.hosrmtbl(컬럼 : rm_status)
- 디폴트 값 : '미확인' 
- 관리자가 병원등록신청서를 1회이상 클릭시 자동으로 상태는 '확인'으로 변경된다. 
- 관리자가 승인,거부 둘 중 하나 선택했을 경우 자동으로 '완료'로 변경된다. 



4-2.hosjointbl ( 컬럼 : hos_status)
- 디폴트 값 : '미승인 '
- 관리자가 병원등록신청서를 1회이상 열람시 '검토중'으로 바뀜 
- 관리자가 병원등록신청을 거부했을 경우 '거절'로 바뀜 
- 관리자가 병원등록신청을 승인했을 경우 '승인'으로 바뀜



5. hosList > FilterDAO 수정 >selectAllArticles
hosJoinTbl에서 hos_status '승인'인 병원만 서치되도록 쿼리문 수정함 



6. 스프링으로 교체시 보완해야할 작업 (생각나는 것들 메모 ) 

- 썸네일 이미지 업로드시 이미지 테이블의 이미지 코드 생성 메서드 삽입
- rm 코드 생성 메서드 삽입 (신청서 추가되면)

