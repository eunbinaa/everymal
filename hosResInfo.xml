<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.hosResInfo">

<resultMap type="resVO" id="resListMap">
		<!-- sql문의 수행결과로 받을 변수명과 컬러명  -->
		<result property="res_code" column="res_code"/>
		<result property="pet_types" column="pet_types"/>
		<result property="user_name" column="user_name"/>	
		<result property="receipt_date" column="receipt_date"/>	
	</resultMap>
	


<!-- 얘약 리스트 불러오기 쿼리 -->
<select id="selectAllReservation" resultMap="resListMap" parameterType="java.util.Map">
  <![CDATA[ SELECT * FROM (SELECT ROWNUM AS row_num, hosrestbl.* FROM 
   (SELECT * FROM hosrestbl WHERE hos_code = #{hos_code} ORDER BY receipt_date) hosrestbl)
    WHERE row_num BETWEEN (#{section}-1)*80+(#{pageNum}-1)*8+1 AND (#{section}-1)*80+(#{pageNum})*8
  ]]>
</select>

<!-- 예약개수 구하는 쿼리 -->
<select id="rescount" resultType="int" parameterType="String" >
     <![CDATA[
     select count(*)as count from hosrestbl where hos_code=#{hos_code}
      ]]>
</select>


<!-- 예약 상세보기 쿼리 -->
<select id="selectRes" resultType="resVO" parameterType="String">
 <![CDATA[
 select *  from  hosrestbl where res_code=#{res_code}
]]>
</select>
</mapper>